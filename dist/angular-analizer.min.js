!function(){"use strict";angular.module("analizer",[])}(),function(){"use strict";function e(e){var n=t();e.on("url",function(t){e.trackPageViews!==!1&&(n({command:"set",page:t.relative}),n({hitType:"pageview",page:t.relative}))}),e.on("click",function(e){n({hitType:"event",eventCategory:e.type,eventAction:e.action,eventLabel:e.label})}),e.on("onComplete",function(e){n({hitType:"event",eventCategory:e.type,eventAction:e.action,eventLabel:e.label})}),e.on("onCompleteError",function(e){n({hitType:"event",eventCategory:e.type,eventAction:e.action,eventLabel:e.label})}),e.on("setCustomData",function(e){var t={};t[e.name]=e.value.toString(),n(angular.extend({command:"set"},t))}),e.on("setUser",function(e){n(angular.extend({command:"set"},{userId:e.toString()}))})}function t(){return"function"!=typeof ga?angular.noop:function(e){var t=e.command||"send";delete e.command,ga(t,e)}}e.$inject=["$analizerProvider"],angular.module("analizer.ga",["analizer"]).config(e)}(),function(){"use strict";function e(){function e(e,t){n.indexOf(e)!==-1&&(c[e].indexOf(t)>-1||c[e].push(t))}function t(e,t){if(t){var n=c[e].indexOf(t)||-1;n>-1&&c[e].splice(n)}else c[e]=[]}function o(e,t){(c[e]||[]).forEach(function(e){e(t)})}function a(e,t){o("setCustomData",{name:e,value:t})}function i(e){o("setUser",e)}function r(){var e={on:u.on,off:u.off,emit:u.emit,trackPageViews:u.trackPageViews,setCustomData:u.setCustomData,setUser:u.setUser};return e}var c={};n.forEach(function(e){c[e]=[]});var u={trackPageViews:!0,on:e,off:t,emit:o,setUser:i,setCustomData:a,$get:r};return u}function t(e,t){e.trackPageViews!==!1&&t.$on("$locationChangeSuccess",function(t,n){var o=n.replace(window.location.origin,"");e.emit("url",{origin:window.location.origin,relative:o,absolute:n})})}t.$inject=["$analizer","$rootScope"],angular.module("analizer").provider("$analizer",e).run(t);var n=["click","url","onComplete","onCompleteError","setCustomData","setUser"]}(),function(){"use strict";function e(){function e(e){return void 0!==o[e]}function a(e){var a;e.attr("role");if(a=o[a],!a&&(a=n[a],!a&&(a=t[a],!a))){var i=e[0].nodeName.toLowerCase();return a=t[i],a?a:"input"===i?(a=n[e.attr("type")],a?a:(a=e.attr("type"),a?"input:"+e.attr("type"):"input")):void 0}}function i(e){var t,n;if("input"===e[0].nodeName.toLowerCase()){var o=e.attr("type");if("button"===o||"submit"===o)return r(e.attr("value"));var a=e.attr("name");if(a&&(n=e.parent()[0].querySelector("[for="+a+"]"),n&&"label"===n.nodeName.toLowerCase()))return r(n.textContent);if(!n){if(n=c(e[0]),n&&"label"===n.nodeName.toLowerCase())return r(n.textContent);if(n=u(e[0]),n&&"label"===n.nodeName.toLowerCase())return r(n.textContent);if(n=e.parent(),"label"===n[0].nodeName.toLowerCase())return r(n.text())}}if(Array.prototype.slice.call(e[0].children).forEach(function(e){3===e.nodeType&&(t=r(e.textContent))}),!t){var i=e[0].querySelector("span");i&&i.textContent&&(t=r(i.textContent))}return t}function r(e){return e=e.replace(/^\s+|\s+$/g,""),""===e?void 0:e}function c(e){do e=e.previousSibling;while(e&&1!==e.nodeType);return e}function u(e){do e=e.nextSibling;while(e&&1!==e.nodeType);return e}var l={getElementType:a,isClickType:e,getLabel:i};return l}angular.module("analizer").factory("$analizerUtil",e);var t={a:"anchor",button:"button"},n={checkbox:"checkbox",button:"button",submit:"submit-button"},o={anchor:"anchor",button:"button",checkbox:"checkbox","submit-button":"submit-button"}}(),function(){"use strict";function e(e,t,n,o,a){function i(i,r){var c,u=void 0!==r.analizerOnComplete,l=void 0!==r.analizerOnResolve,s=void 0!==r.analizerOnReject;return(u||l||s)&&void 0!==r.ngClick&&(c=n(r.ngClick),r.$set("ngClick",void 0)),function(n,i,f){function p(){i.on("click",function(e){var o=function(){v(c(n,{$event:e}),d,m)};a.$$phase?n.$evalAsync(o):n.$apply(o),t.emit("click",{clickEvent:e,type:d,label:m,category:d,action:g})})}function v(e,n,a){o.when(e).then(function(){(u||l)&&t.emit("onComplete",{type:n,label:a,category:n,action:"onComplete"})})["catch"](function(){(u||s)&&t.emit("onCompleteError",{type:n,label:a,category:n,action:"onCompleteError"})})}var m=r.analizerLabel||e.getLabel(i),g=r.analizerAction||"click",d=r.analizerCategory||e.getElementType(i);e.isClickType(d)&&p()}}var r={restrict:"A",compile:i};return r}e.$inject=["$analizerUtil","$analizer","$parse","$q","$rootScope"],angular.module("analizer").directive("analizer",e)}();